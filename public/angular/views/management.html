<style rel="stylesheet">
  th, td.cents{ text-align: center; }
  td{ padding: 2px; }
</style>

<div class="row" style="display:none;">
  <table class="table table-striped" style="width:400px;">
    <tr>
      <th>Field</th>
      <th>Value</th>
    </tr>
    <tr>
      <td>Farmer</td>
      <td>{{loans[0].farmer}}</td>
    </tr>
    <tr>
      <td>Applicant</td>
      <td>{{loans[0].applicant}}</td>
    </tr>
    <tr>
      <td>App Date</td>
      <td>{{loans[0].app_date}}</td>
    </tr>
    <tr>
      <td>Location</td>
      <td>{{loans[0].loc_abr}}</td>
    </tr>
    <tr>
      <td>Loan Type</td>
      <td>{{loans[0].loan_type}}</td>
    </tr>
    <tr>
      <td>Status</td>
      <td>{{loans[0].status}}</td>
    </tr>
    <tr>
      <td>Region</td>
      <td>{{loans[0].region}}</td>
    </tr>
    <tr>
      <td>Season</td>
      <td>{{loans[0].season}}</td>
    </tr>
    <tr>
      <td>Distributor</td>
      <td>{{loans[0].distributor}}</td>
    </tr>
    <tr>
      <td>Agency</td>
      <td>{{loans[0].insurance.agency}}</td>
    </tr>
    <tr>
      <td>Total Commit</td>
      <td>{{loans[0].fins.commit_total | currency}}</td>
    </tr>
    <tr>
      <td>ARM Commit</td>
      <td>{{loans[0].fins.commit_arm | currency}}</td>
    </tr>
    <tr>
      <td>Distributor Commit</td>
      <td>{{loans[0].fins.commit_dist | currency}}</td>
    </tr>
    <tr>
      <td>Other Commit</td>
      <td>{{loans[0].fins.commit_other | currency}}</td>
    </tr>
    <tr>
      <td>Processing Fee Percentage</td>
      <td>{{loans[0].fins.fee_processing_percent | number:1}}</td>
    </tr>
    <tr>
      <td>Processing Fee Total</td>
      <td>{{loans[0].fins.proc_fee | currency}}</td>
    </tr>
    <tr>
      <td>Service Fee Percentage</td>
      <td>{{loans[0].fins.fee_service_percent | number:1}}</td>
    </tr>
    <tr>
      <td>Service Fee Total</td>
      <td>{{loans[0].fins.srvc_fee | currency}}</td>
    </tr>
    <tr>
      <td>ARM Rate Percent</td>
      <td>{{loans[0].fins.int_percent_arm | number:1}}</td>
    </tr>
    <tr>
      <td>ARM Rate</td>
      <td>{{loans[0].fins.int_arm | currency}}</td>
    </tr>
    <tr>
      <td>Distributor Rate Percent</td>
      <td>{{loans[0].fins.int_percent_dist | number:1}}</td>
    </tr>
    <tr>
      <td>Distributor Rate</td>
      <td>{{loans[0].fins.int_dist | currency}}</td>
    </tr>
    <tr>
      <td>Other Rate Percent</td>
      <td>{{loans[0].fins.int_percent_other | number:1}}</td>
    </tr>
    <tr>
      <td>Other Rate</td>
      <td>{{loans[0].fins.int_other | currency}}</td>
    </tr>
    <tr>
      <td>Balance Due</td>
      <td>{{loans[0].fins.remaining_balance | currency}}</td>
    </tr>
    <tr>
      <td>Total Acres</td>
      <td>{{loans[0].fins.total_acres}}</td>
    </tr>
    <tr>
      <td>Corn Acres</td>
      <td>{{loans[0].crops[0].acres}}</td>
    </tr>
    <tr>
      <td>Soybeans Acres</td>
      <td>{{loans[0].crops[1].acres}}</td>
    </tr>
    <tr>
      <td>Sorghum Acres</td>
      <td>{{loans[0].crops[2].acres}}</td>
    </tr>
    <tr>
      <td>Wheat Acres</td>
      <td>{{loans[0].crops[3].acres}}</td>
    </tr>
    <tr>
      <td>Cotton Acres</td>
      <td>{{loans[0].crops[4].acres}}</td>
    </tr>
    <tr>
      <td>Rice Acres</td>
      <td>{{loans[0].crops[5].acres}}</td>
    </tr>
    <tr>
      <td>Peanuts Acres</td>
      <td>{{loans[0].crops[6].acres}}</td>
    </tr>
    <tr>
      <td>Sugar Cane Acres</td>
      <td>{{loans[0].crops[7].acres}}</td>
    </tr>
  </table>
</div>
<!--TODO: Add click funtionality to progress bar-->
<div class="button_bar" style="margin-top: 20px;">
  &nbsp;
  <!--<img src="/images/Excel_Dump_Icon.gif"/>-->
    <span class="view_control">
        <!--<select ng-model="landing_view" class="form-control">
          <option value="my_settings_view">My Settings</option>
          <option value="all_loans_view">All Active Loans</option>
          <option value="spring_loans_view">Active Spring Loans</option>
          <option value="fall_loans_view">Active Fall Loans</option>
        </select>-->
    </span>
</div> <!-- end .button_bar -->

<div data-tbl="tblLoans" class="landing_header_bar clr-darkgreen" style="clear:both;">
  <h3 class="divider_title inlined" style="padding-left:20px;">LOAN MANAGEMENT</h3>
    <span class="filterQueue">
        Filter List:&nbsp;<input type="text" ng-model="loanFilter" />
    </span>

</div> <!-- end .landing_header_bar -->

<div>
  <table id="tblLoans" class="tblLanding"
         style="background-color: white;" border="1">
    <tr class="landing_header_row">
      <th style="width:5%;" rowspan="2">
                <span ng-show="pending_view" ng-click="pending_view = 0; nextOrder()"
                      class="glyphicon glyphicon-exclamation-sign"
                      style="color:#000000;"></span>
                <span ng-show="!pending_view" ng-click="pending_view = 1; nextOrder()"
                      class="glyphicon glyphicon-exclamation-sign"
                      style="color:#FFF;"></span>
      </th>
      <th style="width:5%;" rowspan="2">&nbsp;</th>
      <th style="width:5%;text-align:left;" rowspan="2" data-ng-click="sortBy='farmer';reverse=!reverse">Farmer</th>
      <th style="width:5%;text-align:left;" rowspan="2" data-ng-click="sortBy='applicant';reverse=!reverse">Applicant</th>
      <th style="width:6%;text-align:left;" rowspan="2" data-ng-click="sortBy='app_date';reverse=!reverse">App Date</th>
      <th style="width:20px;" rowspan="2" data-ng-click="sortBy='location';reverse=!reverse">Loc</th>
      <th style="width:5%;" rowspan="2" data-ng-click="sortBy='loan_type';reverse=!reverse">Type</th>
      <th style="width:18px;" rowspan="2" data-ng-click="sortBy='loanStatus';reverse=!reverse">Status</th>
      <th colspan="20" style="text-align: center">Progress</th>
      <!--<th style="width:5%;" rowspan="2" data-ng-click="sortBy='commit_arm';reverse=!reverse">Commit-ARM</th>-->
    </tr>
    <tr class="landing_header_row">
      <th style="width:8px;">
        <span class="glyphicon glyphicon-list-alt" tooltip="ITS List Verfified"></span>
      </th>
      <th style="width:8px;">
        <span class="glyphicon glyphicon-home" tooltip="FSA Eligibility"></span>
      </th>
      <th style="width:8px;">
        <span class="glyphicon glyphicon-star" tooltip="Priority Lien Verfied"></span>
      </th>
      <th style="width:8px;">
        <span class="glyphicon glyphicon-leaf" tooltip="Leases Valid"></span>
      </th>
      <th style="width:8px;">
        <span class="glyphicon glyphicon-fire" tooltip="Bankruptcy Order Received"></span>
      </th>
      <th style="width:8px;">
        <span class="glyphicon glyphicon-stats" tooltip="Third Party Credit Verified"></span>
      </th>
      <th style="width:8px;">
        <span class="glyphicon glyphicon-share-alt" tooltip="Recommended"></span>
      </th>
      <th style="width:8px;">
        <span class="glyphicon glyphicon-thumbs-up" tooltip="ARM Approved"></span>
      </th>
      <th style="width:8px;">
        <span class="glyphicon glyphicon-hand-up" tooltip="Distributor Approved"></span>
      </th>
      <th style="width:8px;">
        <span class="glyphicon glyphicon-folder-close" tooltip="Loan Closed"></span>
      </th>
      <th style="width:8px;">
        <span class="glyphicon glyphicon-flag" tooltip="Added Land Verified"></span>
      </th>
      <th style="width:8px;">
        <span class="glyphicon glyphicon-log-in" tooltip="ARM UCC Received" style="color:#006837;"></span>
      </th>
      <th style="width:8px;">
        <span class="glyphicon glyphicon-log-in" tooltip="Distributor UCC Received" style="color:#333;"></span>
      </th>
      <th style="width:8px;">
        <span class="glyphicon glyphicon-circle-arrow-right" tooltip="AOI Received"></span>
      </th>
      <th style="width:8px;">
        <span class="glyphicon glyphicon-link" tooltip="CCC Received"></span>
      </th>
      <th style="width:8px;">
        <span class="glyphicon glyphicon-cog" tooltip="Rebate Assignment"></span>
      </th>
      <th style="width:8px;">
        <span class="glyphicon glyphicon-tree-deciduous" tooltip="Crop Inspection"></span>
      </th>
      <th style="width:8px;">
        <span class="glyphicon glyphicon-warning-sign" tooltip="Limit Warning"></span>
      </th>
      <th style="width:8px;">
        <span class="glyphicon glyphicon-retweet" tooltip="Account Reconciliation"></span>
      </th>
      <th style="width:8px;">
        <span class="glyphicon glyphicon-sort-by-order-alt" tooltip="Account Classification"></span>
      </th>
    </tr>

    <tr data-ng-repeat="l in loans | filter:loanFilter | orderBy:[myOrder, 'applicant']">
      <td>
        <span ng-if="l.need_vote" tooltip="Vote Needed" class="glyphicon glyphicon-exclamation-sign" style="color:#000099;"></span>
        <span ng-if="l.has_comment" tooltip="Comments" class="glyphicon glyphicon-exclamation-sign" style="color:#e0a02d;"></span>
        <span ng-if="l.is_stale" tooltip="Stale Application" class="glyphicon glyphicon-exclamation-sign" style="color:#990000;"></span>
      </td>
      <td>
        <span class="glyphicon glyphicon-plus indicon" tooltip="Addendum" ng-class="{ clrOn : l.has_addendum, clrOff: !l.has_addendum }"></span>
        <span class="glyphicon glyphicon-fire indicon" tooltip="Bankruptcy History" ng-class="{ clrOn : l.bankruptcy_history, clrOff: !l.bankruptcy_history }"></span>
        <span class="glyphicon glyphicon-stats indicon" tooltip="Third Party Credit Required" ng-class="{ clrOn : l.required_3party, clrOff: !l.required_3party }"></span>
        <span class="glyphicon glyphicon-flag indicon" tooltip="Added Land in Database" ng-class="{ clrOn : l.added_land, clrOff: !l.added_land }"></span>
        <span class="glyphicon glyphicon-tower indicon" tooltip="Controlled Disbursement" ng-class="{ clrOn : l.controlled_disbursement, clrOff: !l.controlled_disbursement }"></span>
        <span class="glyphicon glyphicon-paperclip indicon" tooltip="Attachments" ng-class="{ clrOn : l.attachments, clrOff: !l.attachments }"></span>
      </td>
      <td>{{l.farmer}}</td>
      <td><a href="#/edit/{{l.id}}/summary">{{l.applicant}}</a></td>
      <td style="text-align:center;">{{l.app_date | date:'MM/dd/yy'}}</td>
      <td style="text-align:center;">{{l.loc_abr}}</td>
      <td style="text-align:center;">{{l.loan_type}}</td>
      <td style="text-align:center;">
        <span loan-status-icon status="{{l.status_id}}"></span>
      </td>
      <td class="cents">
        <img ng-src="images/dot_{{getColor(l.its_list)}}.png" alt=""/>
      </td>
      <td class="cents">
        <img ng-src="images/dot_{{getColor(l.fsa_compliant)}}.png" alt=""/>
      </td>
      <td class="cents">
        <img ng-src="images/dot_{{getColor(l.prev_lien_verified)}}.png" alt=""/>
      </td>
      <td class="cents">
        <img ng-src="images/dot_{{getColor(l.leases_valid)}}.png" alt=""/>
      </td>
      <td class="cents">
        <img ng-src="images/dot_{{getColor(l.bankruptcy_order_received)}}.png" alt=""/>
      </td>
      <td class="cents">
        <img ng-src="images/dot_{{getColor(l.received_3party)}}.png" alt=""/>
      </td>
      <td class="cents">
        <img ng-src="images/dot_{{getColor(l.recommended)}}.png" alt=""/>
      </td>
      <td class="cents">
        <img ng-src="images/dot_{{getColor(l.arm_approved)}}.png" alt=""/>
      </td>
      <td class="cents">
        <img ng-src="images/dot_{{getColor(l.dist_approved)}}.png" alt=""/>
      </td>
      <td class="cents">
        <img ng-src="images/dot_{{getColor(l.loan_closed)}}.png" alt="" tooltip="{{l.loan_closed_date}}"/>
      </td>
      <td class="cents">
        <img ng-src="images/dot_{{getColor(l.added_land_verified)}}.png" alt=""/>
      </td>
      <td class="cents">
        <img ng-src="images/dot_{{getColor(l.arm_ucc_received)}}.png" alt=""/>
      </td>
      <td class="cents">
        <img ng-src="images/dot_{{getColor(l.dist_ucc_received)}}.png" alt=""/>
      </td>
      <td class="cents">
        <img ng-src="images/dot_{{getColor(l.aoi_received)}}.png" alt=""/>
      </td>
      <td class="cents">
        <img ng-src="images/dot_{{getColor(l.ccc_received)}}.png" alt=""/>
      </td>
      <td class="cents">
        <img ng-src="images/dot_{{getColor(l.rebate_assignment)}}.png" alt=""/>
      </td>
      <td class="cents">
        <img ng-src="images/dot_{{getColor(l.crop_inspection)}}.png" alt=""/>
      </td>
      <td class="cents">
        <img ng-src="images/dot_{{getColor(l.limit_warning)}}.png" alt="" tooltip="{{l.limitReport}}"/>
      </td>
      <td class="cents">
        <img ng-src="images/dot_{{getColor(l.reconcilliation)}}.png" alt=""/>
      </td>
      <td class="cents">
        {{l.fins.grade}}
      </td>
      <!--<td class="text-center" ng-class=gtZero(l.fins.commit_arm)>
        {{l.fins.commit_arm | noCentsCurrency}}
      </td>-->
    </tr>
  </table>
</div>
<!-- APPLICATIONS -->
        <!--<pre>{{financials | json}}</pre>-->
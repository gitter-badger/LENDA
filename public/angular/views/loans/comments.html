<!--<pre>{{comments | json}}</pre>-->
<fieldset>
  <legend>Comments Log</legend>
  <div class="row">
    <div class="col-md-6 text-left">
      <button class="btn btn-primary btn-xs" ng-click="createComment()"><span class="glyphicon glyphicon-plus"></span> NEW COMMENT</button>
      <br/><br/>
    </div>
    <div class="col-md-6">
      <input type="checkbox" ng-model="user.cbCommentLenda"/> LENDA [{{filtered.lenda.length}}]
      &nbsp;&nbsp;
      <input type="checkbox" ng-model="user.cbCommentCommittee"/> Committee [{{filtered.committee.length}}]
      &nbsp;&nbsp;
      <input type="checkbox" ng-model="user.cbCommentAnalyst"/> Analyst [{{filtered.analyst.length}}]
      &nbsp;&nbsp;
      <input type="checkbox" ng-model="user.cbCommentAccount"/> Account [{{filtered.account.length}}]
    </div>
  </div>

  <div class="voter_comment">
    <div ng-if="comments.length == 0">
      <b>No Comments Found!</b>
    </div>
    <div ng-repeat="c in filtered.lenda = (comments | filter:{type:'LENDA'})" ng-show="user.cbCommentLenda">
      <div class="alert alert-danger" role="alert">
        <h4><span class="glyphicon glyphicon-wrench"></span> LENDA Comment
        </h4>
        <hr/>
        <p style="font-size:11px;font-weight:bold;"><i>{{c.user}}</i>
          &nbsp;&nbsp;-&nbsp;&nbsp;
          <i>{{c.dtCom | date:'MM/dd/yy'}}</i>
        </p>
        <p>{{c.comment}}</p>
      </div>
    </div>

    <div ng-repeat="c in filtered.committee = (comments | filter:{type:'Committee'})" ng-show="user.cbCommentCommittee">
      <div class="alert alert-info" role="alert">
        <h4><span class="glyphicon glyphicon-user"></span> Committee Comment
        </h4>
        <hr/>
        <p style="font-size:11px;font-weight:bold;"><i>{{c.user}}</i>
          &nbsp;&nbsp;-&nbsp;&nbsp;
          <i>{{c.dtCom | date:'MM/dd/yy'}}</i>
        </p>
        <p>{{c.comment}}</p>
      </div>
      <div ng-if="c.responses">
        <div class="alert alert-response" ng-repeat="res in c.responses">
          <p style="font-size:11px;font-weight:bold;"><i>{{res.user.staff.username}}</i>
            &nbsp;&nbsp;-&nbsp;&nbsp;
            <i>{{res.created_at | date:'MM/dd/yy'}}</i>
          </p>
          <hr/>
          <p>{{res.body}}</p>
        </div>
      </div>
    </div>

    <div ng-repeat="c in filtered.analyst = (comments | filter:{type:'Analyst'})" ng-show="user.cbCommentAnalyst">
      <div class="alert alert-warning" role="alert">
        <h4><span class="glyphicon glyphicon-user"></span> Analyst Comment
        </h4>
        <hr/>
        <p style="font-size:11px;font-weight:bold;"><i>{{c.user}}</i>
          &nbsp;&nbsp;-&nbsp;&nbsp;
          <i>{{c.dtCom | date:'MM/dd/yy'}}</i>
        </p>
        <p>{{c.comment}}</p>
      </div>
      <div ng-if="c.responses">
        <div class="alert alert-response" ng-repeat="res in c.responses">
          <p style="font-size:11px;font-weight:bold;"><i>{{res.user.staff.username}}</i>
            &nbsp;&nbsp;-&nbsp;&nbsp;
            <i>{{res.created_at | date:'MM/dd/yy'}}</i>
          </p>
          <hr/>
          <p>{{res.body}}</p>
        </div>
      </div>
    </div>

    <div ng-repeat="c in filtered.account = (comments | filter:{type:'Account'})" ng-show="user.cbCommentAccount">
      <div class="alert alert-success" role="alert">
        <h4><span class="glyphicon glyphicon-usd"></span> Account Comment
        </h4>
        <hr/>
        <p style="font-size:11px;font-weight:bold;"><i>{{c.user}}</i>
          &nbsp;&nbsp;-&nbsp;&nbsp;
          <i>{{c.dtCom | date:'MM/dd/yy'}}</i>
        </p>
        <p>{{c.comment}}</p>
      </div>
      <div ng-if="c.responses">
        <div class="alert alert-response" ng-repeat="res in c.responses">
          <p style="font-size:11px;font-weight:bold;"><i>{{res.user.staff.username}}</i>
            &nbsp;&nbsp;-&nbsp;&nbsp;
            <i>{{res.created_at | date:'MM/dd/yy'}}</i>
          </p>
          <hr/>
          <p>{{res.body}}</p>
        </div>
      </div>
    </div>
  </div>
</fieldset>
</div>
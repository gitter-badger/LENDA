<div ng-controller="AdminUsersController">
    <div ui-view></div>
    <!--<pre>{{locations | json}}</pre>-->
    <table class="table table-striped table-bordered table-hover table-condensed">
        <tr>
            <td colspan="9">
                <input type="text" class="form-control" ng-model="filtery" style="width:260px;" placeholder="Filter List"/>
            </td>
        </tr>
        <tr>
            <th style="width:15%;">Username</th>
            <th style="width:15%;">Email</th>
            <th style="width:15%;">Phone</th>
            <th style="width:8%;">Role</th>
            <th style="width:8%;">LOC</th>
            <th style="width:8%;">Admin?</th>
            <th style="width:8%;">Approver?</th>
            <th style="width:8%;">Manager?</th>
            <th style="width:15%;">Actions</th>
        </tr>
        <tr ng-repeat="u in users | filter:filtery">
            <td>
                {{ u.username }}
            </td>
            <td>
                {{ u.email }}
            </td>
            <td>
                {{ u.phone | phone }}
            </td>
            <td>
                {{ u.role }}
            </td>
            <td>
                {{ u.location }}
            </td>
            <td class="text-center">
                <input type="checkbox" name="is_admin" ng-model="u.is_admin"/>
            </td>
            <td class="text-center">
                <input type="checkbox" name="is_approver" ng-model="u.is_approver"/>
            <td class="text-center">
                <input type="checkbox" name="is_manager" ng-model="u.is_manager"/>
            <td style="white-space: nowrap">
                <a class="btn btn-success" ui-sref="admin.users.edit({userId:u.id})">edit</a>
            <button class="btn btn-danger" ng-really-message="This action cannot be undone. Are you sure?" ng-really-click="removeUser($index, u.id)">del</button>
            </td>
        </tr>
    </table>

    <button class="btn btn-default" ng-click="addUser()">Add New User</button>
    <br/><br/><br/><br/>
</div>
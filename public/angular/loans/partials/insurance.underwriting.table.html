<table class="table table-striped rowed">
    <tr>
        <th>&nbsp;</th>
        <th>Type</th>
        <th>Option</th>
        <th>Price</th>
        <th>Level</th>
        <th>Guarantee</th>
        <th>Premium</th>
        <th>Share</th>
        <th>Value</th>
        <th>Over Disc</th>
        <th>Non RP</th>
    </tr>
    <tr ng-if="loan.insurance.byCrop.length === 0">
        <td colspan="9"><strong>No Insurance Information Found.</strong></td>
    </tr>
    <tr ng-repeat="c in loan.insurance.byCrop|orderBy:'crop_id'" ng-if="loan.insurance.byCrop.length !== 0">
        <td>{{c.name}}</td>
        <td class="text-center">{{c.type}}</td>
        <td class="text-center">{{c.option}}</td>
        <td class="text-right">{{c.price|flexCurrency:2}}</td>
        <td class="text-right">{{c.level|flexPercent:1}}</td>
        <td class="text-right">{{c.guarantee|flexCurrency:0}}</td>
        <td class="text-right">{{c.premium|flexCurrency:2}}</td>
        <td class="text-right">{{c.share|flexPercent:1}}</td>
        <td class="text-right">{{c.value|flexCurrency:0}}</td>
        <td class="text-right">{{AppFactory.calcInsOverDisc(c)|flexCurrency:0}}</td>
        <td class="text-right">{{AppFactory.calcInsOverDiscNonRP(c)|flexCurrency:0}}</td>
    </tr>
    <tr class="success" ng-if="loan.insurance.byCrop.length !== 0">
        <td>Total</td>
        <!-- TODO: These calculations are wrong! -->
        <td colspan="7">&nbsp;</td>
        <td class="text-right">{{AppFactory.calcTotalInsGuar(loan)|flexCurrency:0}}</td>
        <td class="text-right">{{AppFactory.calcTotalOverDisc(loan)|flexCurrency:0}}</td>
        <td class="text-right">{{AppFactory.calcTotalOverDiscNonRP(loan)|flexCurrency:0}}</td>
    </tr>
</table>
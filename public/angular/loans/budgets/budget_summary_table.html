<table class="table table-striped rowed">
  <tbody>
  <tr>
    <td colspan="5" style="width: 50%;">&nbsp</td>
    <td class="text-center" style="width:10%;">ARM</td>
    <td class="text-center" style="width:10%;" ng-if="loan.has_distributor">
      {{loan.distributor}}
    </td>
    <td class="text-center" style="width:10%;">Other</td>
    <td class="text-center" style="width:10%;">Total</td>
  </tr>
  <tr ng-repeat="e in loan.expenses.data|orderBy: 'cat_id'" ng-if="e.expense != 'Total'">
    <td colspan="5">{{e.expense}}</td>
    <td class="text-right">
      {{e.arm|flexCurrency:0}}
    </td>
    <td class="text-right" ng-if="loan.has_distributor">
      {{e.dist|flexCurrency:0}}
    </td>
    <td class="text-right">
      {{e.other|flexCurrency:0}}
    </td>
    <td class="text-right">
      {{e.total|flexCurrency:0}}
    </td>
  </tr>

  <tr>
    <td colspan="5">Fees and Other</td>
    <td class="text-right">
      {{999999 | flexCurrency:0 }}
    </td>
    <td class="text-right" ng-if="loan.has_distributor">
      {{999999 | flexCurrency:0 }}
    </td>
    <td class="text-right">
      {{999999 | flexCurrency:0 }}
    </td>
    <td class="text-right">
      {{999999 | flexCurrency:0 }}
    </td>
  </tr>
  <tr class="success">
    <td colspan="5" class="text-left">
      <strong>Total Expenses</strong>
    </td>
    <td class="text-right">
      {{loan.expenses[loan.expenses.length - 1].arm|flexCurrency:0}}
    </td>
    <td class="text-right" ng-if="loan.has_distributor">
      {{loan.expenses[loan.expenses.length - 1].other|flexCurrency:0}}
    </td>
    <td class="text-right">
      {{loan.expenses[loan.expenses.length - 1].crop_total|flexCurrency:0}}
    </td>
    <td class="text-right"></td>
  </tr>
  <tr>
    <td colspan="5">Estimated Interest</td>
    <td class="text-right"></td>
    <td class="text-right" ng-if="loan.has_distributor"></td>
    <td class="text-right"></td>
    <td class="text-right"></td>
  </tr>
  <tr class="warning">
    <td>Cash Flow (Deficit)</td>
    <td colspan="7" ng-if="loan.has_distributor">&nbsp;</td>
    <td colspan="6" ng-if="!loan.has_distributor">&nbsp;</td>
    <td class="text-right">
      {{total_expenses.deficit.total | flexCurrency:0 }}
    </td>
  </tr>
  </tbody>
</table>
<table class="table table-striped rowed">
  <tbody>
  <tr>
    <th class="text-left" style="width:20%;">
      {{thiscrop.byFarm[0].name}}
    </th>
    <th class="text-left" colspan="4">BY ACRE</th>
    <th class="text-left" colspan="4">
      {{thiscrop.totals.acres || 0|number:1}} ACRE TOTALS
    </th>
  </tr>

  <tr>
    <td style="width:10%;" class="text-right">&nbsp;</td>
    <td class="text-center" style="width:10%;">ARM</td>
    <td class="text-center" style="width:10%;">
      {{loan.distributor}}
    </td>
    <td class="text-center" style="width:10%;">Other</td>
    <td class="text-center" style="width:10%;">Total</td>
    <td class="text-center" style="width:10%;">ARM</td>
    <td class="text-center" style="width:10%;">
      {{loan.distributor}}
    </td>
    <td class="text-center" style="width:10%;">Other</td>
    <td class="text-center" style="width:10%;">Total</td>
  </tr>

  <tr ng-if="thiscrop.length == 0">
    <td colspan="9">
      <strong>No expenses recorded.</strong>
    </td>
  </tr>

  <tr ng-repeat="c in thiscrop.expenses">
    <td>
      {{c.expense|capitalize}}
    </td>
    <td class="text-right">
      {{c.arm|flexCurrency:2}}
    </td>
    <td class="text-right">
      {{c.dist|flexCurrency:2}}
    </td>
    <td class="text-right">
      {{c.other|flexCurrency:2}}
    </td>
    <td class="text-right">
      {{c.arm+c.dist+c.other|flexCurrency:2}}
    </td>
    <td class="text-right">
      {{c.calc_arm = thiscrop.expenses[0].acres * c.arm|flexCurrency:0}}
    </td>
    <td class="text-right">
      {{c.calc_dist = thiscrop.expenses[0].acres * c.dist|flexCurrency:0}}
    </td>
    <td class="text-right">
      {{c.calc_other = thiscrop.expenses[0].acres * c.other|flexCurrency:0}}
    </td>
    <td class="text-right">
      {{c.calc_total = c.calc_arm + c.calc_dist + c.calc_other |flexCurrency:0}}
    </td>
  </tr>

  <tr class="success">
    <td>TOTAL</td>
    <td ng-class=gtZero(c.arm_total)>
      {{calc_arm_total(thiscrop)  | flexCurrency:2 }}
    </td>
    <td ng-class=gtZero(c.dist_total)>
      {{calc_dist_total(thiscrop) | flexCurrency:2 }}
    </td>
    <td ng-class=gtZero(c.other_total)>
      {{calc_other_total(thiscrop) | flexCurrency:2 }}
    </td>
    <td ng-class=gtZero(c.peracre_total)>
      {{calc_arm_total(thiscrop) + calc_dist_total(thiscrop) + calc_other_total(thiscrop) | flexCurrency:2 }}
    </td>
    <td ng-class=gtZero(c.calc_arm_total)>
      {{calc_arm_total(thiscrop) * thiscrop.totals.acres | flexCurrency:0 }}
    </td>
    <td ng-class=gtZero(c.calc_dist_total)>
      {{calc_dist_total(thiscrop) * thiscrop.totals.acres | flexCurrency:0 }}
    </td>
    <td ng-class=gtZero(c.calc_other_total)>
      {{calc_other_total(thiscrop) * thiscrop.totals.acres | flexCurrency:0 }}
    </td>
    <td ng-class=gtZero(c.calc_total)>
      {{(calc_arm_total(thiscrop) + calc_dist_total(thiscrop) + calc_other_total(thiscrop)) * thiscrop.totals.acres | flexCurrency:0 }}
    </td>
  </tr>

  </tbody>
</table>
<pre>{{thiscrop|json}}</pre>